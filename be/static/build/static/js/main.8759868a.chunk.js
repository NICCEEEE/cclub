(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a(321)},156:function(e,t,a){},158:function(e,t,a){},165:function(e,t,a){},236:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},238:function(e,t,a){},263:function(e,t,a){},275:function(e,t,a){},289:function(e,t,a){},309:function(e,t,a){},319:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(10),c=a.n(r),o=(a(156),a(22)),s=a(23),i=a(26),u=a(24),m=a(25),d=(a(158),a(37),a(12)),p=(a(51),a(19)),h=(a(165),a(323)),g=a(328),b=a(17),E=a.n(b),f=p.a.Search;E.a.defaults.withCredentials=!0;var v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).search=function(e){window.open("https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=1&rsv_idx=1&ch=&tn=baidu&bar=&wd="+e)},a.state={loginStatus:"fail"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;E.a.get("http://0.0.0.0:2000/api/user").then(function(t){e.setState({loginStatus:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t=this;return e="fail"===this.state.loginStatus?l.a.createElement("div",{className:"buttonGroup"},l.a.createElement(f,{placeholder:"\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053",onSearch:function(e){return t.search(e)},enterButton:!0}),l.a.createElement(h.a,{to:"/register"},l.a.createElement(d.a,{type:"primary"},"\u6ce8\u518c")),l.a.createElement(h.a,{to:"/login"},l.a.createElement(d.a,null,"\u767b\u5f55"))):l.a.createElement("div",{className:"buttonGroup"},l.a.createElement(f,{placeholder:"\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053",onSearch:function(e){return t.search(e)},enterButton:!0}),l.a.createElement(d.a,null,this.state.loginStatus)),l.a.createElement("header",null,l.a.createElement(h.a,{to:"/"},l.a.createElement("img",{src:a(236),alt:"logo"})),e)}}]),t}(l.a.Component),S=Object(g.a)(v),y=a(326),w=a(327),k=a(324),C=(a(238),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"footerColor"},l.a.createElement("div",{className:"color-1"}),l.a.createElement("div",{className:"color-2"}),l.a.createElement("div",{className:"color-3"}),l.a.createElement("div",{className:"color-4"}),l.a.createElement("div",{className:"color-5"})),l.a.createElement("div",{className:"copyright"},l.a.createElement("span",null,"Idea comes from ",l.a.createElement("a",{href:"https://community.nodebb.org/"},"NodeBB")," and ",l.a.createElement("a",{href:"https://community.nodebb-cn.org/"},"NodeBB.CN"),"."),l.a.createElement("span",{style:{marginRight:"10px",marginLeft:"10px"}},"Powered by ",l.a.createElement("a",{href:"https://www.vultr.com/"},"Vultr"),"."),l.a.createElement("span",null," Copyright \xa9 2018 ",l.a.createElement("a",{href:"http://cwuc.cc"},"CWUC.CC"),". All rights reserved.")))}}]),t}(l.a.Component)),x=(a(322),a(60)),T=(a(244),a(146)),O=(a(247),a(113)),z=(a(250),a(147)),j=(a(253),a(70)),N=function(e){j.a.config({top:"6%",duration:3}),j.a.success(e)},B=function(e){j.a.config({top:"6%",duration:3}),j.a.error(e)},A=function(e){document.title="".concat(e," | CCLUB")},_=function(e,t){var a;return function(n){clearTimeout(a),a=setTimeout(e.bind(this,n.target),t)}};function q(){var e=this;E.a.get("http://0.0.0.0:2000/api/codeword").then(function(t){var a=t.data;e.setState({problem:a})}).catch(function(e){console.log(e)})}function P(){this.setState(function(e){return{degree:0===e.degree?360:e.degree+360}}),q.bind(this)()}a(65);var H=a(30),L=(a(258),a(112)),R=(a(78),a(9)),Z=(a(263),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props.detail.board;return"\u704c\u6c34\u4ea4\u6d41"===n?(t="#8ACF00",e=l.a.createElement(R.a,{type:"message",theme:"twoTone",twoToneColor:t})):"\u6280\u672f\u8ba8\u8bba"===n?(t="#f92672",e=l.a.createElement(R.a,{type:"rocket",theme:"twoTone",twoToneColor:t})):(t="#0092FF",e=l.a.createElement(R.a,{type:"setting",theme:"twoTone",twoToneColor:t})),l.a.createElement("div",{className:"topicBox"},l.a.createElement(H.a,{placement:"left",title:this.props.detail.author},l.a.createElement(L.a,{size:70,className:"userHead",style:{color:"#f56a00",backgroundColor:"#fde3cf"}},"U")),l.a.createElement("div",{className:"topicBox-1"},l.a.createElement("p",{className:"topicTitle"},l.a.createElement("a",null,this.props.detail.title)),l.a.createElement("p",{className:"topicBottom"},l.a.createElement("span",{className:"topicBoard"},e,l.a.createElement("a",{onClick:function(){return a.props.Home.handleBoardTab(a.props.tab)}},"\xa0",n)),"\xa0\u2022\xa0",l.a.createElement("span",{className:"topicTime"},this.props.detail.ct),"\xa0\u2022\xa0",l.a.createElement("span",{className:"topicAuthor"},l.a.createElement("a",null,this.props.detail.author)))),l.a.createElement("div",{className:"topicBox-2"},l.a.createElement("div",{className:"vote"},l.a.createElement("span",{className:"count",style:{color:t}},this.props.detail.vote),l.a.createElement("br",null),l.a.createElement("span",{className:"countTitle"},"\u70b9\u8d5e")),l.a.createElement("div",{className:"comments"},l.a.createElement("span",{className:"count",style:{color:t}},this.props.detail.comments),l.a.createElement("br",null),l.a.createElement("span",{className:"countTitle"},"\u56de\u590d")),l.a.createElement("div",{className:"views"},l.a.createElement("span",{className:"count",style:{color:t}},this.props.detail.views),l.a.createElement("br",null),l.a.createElement("span",{className:"countTitle"},"\u6d4f\u89c8"))),l.a.createElement("div",{className:"topicBox-3",style:{borderLeft:t.concat(" 3px solid")}},l.a.createElement("p",null,l.a.createElement(H.a,{placement:"top",title:this.props.detail.last_comment_author},l.a.createElement(L.a,{className:"lastCommentAuthor",size:"small",style:{backgroundColor:"#87d068"},icon:"user"})),l.a.createElement("span",{className:"lastCommentTime",style:{paddingLeft:"5px"}},"\u5927\u7ea65\u5c0f\u65f6\u4e4b\u524d")),l.a.createElement("p",{className:"commentPreview",style:{overflow:"hidden"}},this.props.detail.last_comment_content)))}}]),t}(l.a.Component)),$=a(325),I=(a(275),a(277),a(149)),M=(a(280),a(143)),J=(a(283),a(148)),D=(a(286),a(71)),F=(a(289),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleMenuClick=function(e){console.log(e.item.props.children),a.setState({selectedBoard:e.item.props.children})},a.onClose=function(){a.props.Home.setState({drawerVisible:!1}),a.setState({selectedBoard:null,preview:!0,fullScreen:!1})},a.switchBox=function(e){console.log("switch to ".concat(e)),a.setState({preview:!a.state.preview})},a.changeScreen=function(){a.setState({fullScreen:!a.state.fullScreen})},a.getTextRange=function(){var e={text:"",start:0,end:0},t=document.querySelector("textarea[name='inputTopic']");t.focus();t.setSelectionRange;return e.start=t.selectionStart,e.end=t.selectionEnd,e.text=e.start!=e.end?t.value.substring(e.start,e.end):"",e},a.fontBold=function(){var e=a.getTextRange(),t=document.querySelector("textarea[name='inputTopic']"),n=t.value;if(e.start===e.end){var l=n.slice(0,e.end),r=n.slice(e.end,e.length);n=l+"**\u7c97\u4f53\u6587\u672c**"+r,t.value=n,t.setSelectionRange(e.start+2,e.end+6)}else{var c=n.slice(0,e.start),o=n.slice(e.start,e.end),s=n.slice(e.end,e.length);n=c+" **"+o+"** "+s,t.value=n,t.setSelectionRange(e.start+3,e.end+3)}},a.fontItalic=function(){var e=a.getTextRange(),t=document.querySelector("textarea[name='inputTopic']"),n=t.value;if(e.start===e.end){var l=n.slice(0,e.end),r=n.slice(e.end,e.length);n=l+"*\u659c\u4f53\u6587\u672c*"+r,t.value=n,t.setSelectionRange(e.start+1,e.end+5)}else{var c=n.slice(0,e.start),o=n.slice(e.start,e.end),s=n.slice(e.end,e.length);n=c+" *"+o+"* "+s,t.value=n,t.setSelectionRange(e.start+2,e.end+2)}},a.lineThrough=function(){var e=a.getTextRange(),t=document.querySelector("textarea[name='inputTopic']"),n=t.value;if(e.start===e.end){var l=n.slice(0,e.end),r=n.slice(e.end,e.length);n=l+"~~\u5220\u9664\u7ebf~~"+r,t.value=n,t.setSelectionRange(e.start+2,e.end+5)}else{var c=n.slice(0,e.start),o=n.slice(e.start,e.end),s=n.slice(e.end,e.length);n=c+" ~~"+o+"~~ "+s,t.value=n,t.setSelectionRange(e.start+3,e.end+3)}},a.state={placement:"bottom",selectedBoard:null,preview:!0,fullScreen:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement(D.a,{onClick:this.handleMenuClick},l.a.createElement(D.a.Item,{key:"1"},"\u704c\u6c34\u4ea4\u6d41"),l.a.createElement(D.a.Item,{key:"2"},"\u6280\u672f\u8ba8\u8bba"),l.a.createElement(D.a.Item,{key:"3"},"\u5efa\u8bae\u53cd\u9988"));return l.a.createElement("div",{className:"createTopic"},l.a.createElement(I.a,{title:"\u65b0\u5efa\u4e3b\u9898\u5e16",maskClosable:!1,destroyOnClose:!0,placement:this.state.placement,closable:!1,visible:this.props.Home.state.drawerVisible,height:this.state.fullScreen?930:512},l.a.createElement("div",{className:"titleBox"},l.a.createElement(p.a,{name:"topicTitle",addonBefore:"\u60a8\u7684\u6807\u9898:",size:"large",placeholder:"\u6807\u9898\u5b57\u6570\u4e0d\u80fd\u5c11\u4e8e8\u4e2a\u5b57\u7b26\u4e14\u4e0d\u80fd\u8d85\u8fc740\u4e2a\u5b57\u7b26"}),l.a.createElement(J.a,{overlay:t},l.a.createElement(d.a,{size:"large"},this.state.selectedBoard?this.state.selectedBoard:"\u9009\u62e9\u677f\u5757",l.a.createElement(R.a,{type:"down"}))),l.a.createElement(d.a,{size:"large",type:"primary"},"\u53d1\u8868"),l.a.createElement(H.a,{placement:"topRight",title:"\u5173\u95ed\u540e\u60a8\u7684\u8f93\u5165\u5c06\u88ab\u6e05\u7a7a\uff01"},l.a.createElement(d.a,{size:"large",type:"danger",onClick:this.onClose},"\u5173\u95ed"))),l.a.createElement("ul",{className:"toolBox"},l.a.createElement("li",{onClick:this.fontBold,title:"\u52a0\u7c97"},l.a.createElement(R.a,{type:"bold"})),l.a.createElement("li",{onClick:this.fontItalic,title:"\u659c\u4f53"},l.a.createElement(R.a,{type:"italic"})),l.a.createElement("li",{onClick:this.lineThrough,title:"\u5220\u9664\u7ebf"},l.a.createElement(R.a,{type:"strikethrough"})),l.a.createElement("li",{onClick:this.addList,title:"\u65e0\u5e8f\u5217\u8868"},l.a.createElement(R.a,{type:"bars"})),l.a.createElement("li",{onClick:this.addOrderedList,title:"\u6709\u5e8f\u5217\u8868"},l.a.createElement(R.a,{type:"ordered-list"})),l.a.createElement("li",{onClick:this.addUnderline,title:"\u6dfb\u52a0\u5206\u5272\u7ebf"},l.a.createElement(R.a,{type:"dash"})),l.a.createElement("li",{onClick:this.addHead,title:"\u6dfb\u52a0\u5c0f\u6807\u9898"},l.a.createElement(R.a,{type:"edit"})),l.a.createElement("li",{onClick:this.addLink,title:"\u6dfb\u52a0\u94fe\u63a5"},l.a.createElement(R.a,{type:"link"})),l.a.createElement("li",{onClick:this.addPicture,title:"\u63d2\u5165\u56fe\u7247"},l.a.createElement(R.a,{type:"picture"})),this.state.fullScreen?l.a.createElement("li",{title:"\u9000\u51fa\u9ad8\u5c4f",onClick:this.changeScreen},l.a.createElement(R.a,{type:"caret-down"})):l.a.createElement("li",{title:"\u9ad8\u5c4f\u663e\u793a",onClick:this.changeScreen},l.a.createElement(R.a,{type:"caret-up"})),l.a.createElement("li",{className:"switch"},l.a.createElement(H.a,{placement:"top",title:"\u6587\u672c\u9884\u89c8"},l.a.createElement(M.a,{onChange:function(t){return e.switchBox(t)},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0})))),l.a.createElement("div",{className:"writingBox"},l.a.createElement("div",{className:this.state.preview?"inputBox":"noPreview inputBox"},l.a.createElement(p.a.TextArea,{name:"inputTopic",rows:this.state.fullScreen?24:10})),l.a.createElement("div",{className:this.state.preview?"previewBox":"noPreview previewBox"},l.a.createElement(p.a.TextArea,{style:{backgroundColor:"snow"},rows:this.state.fullScreen?24:10,readOnly:!0})))))}}]),t}(l.a.Component)),Q=z.a.confirm,V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeAll=function(e){e-=1,console.log(e),a.setState({boardAll:a.state.topics.slice(15*e,15*e+15)}),window.scrollTo(0,0)},a.onChangeEssence=function(e){e-=1,a.setState({boardEssence:a.state.essence.slice(15*e,15*e+15)}),window.scrollTo(0,0)},a.onChangeTalk=function(e){e-=1,a.setState({boardTalk:a.state.talk.slice(15*e,15*e+15)}),window.scrollTo(0,0)},a.onChangeTech=function(e){e-=1,a.setState({boardTech:a.state.tech.slice(15*e,15*e+15)}),window.scrollTo(0,0)},a.onChangeBug=function(e){e-=1,a.setState({boardBug:a.state.bug.slice(15*e,15*e+15)}),window.scrollTo(0,0)},a.showConfirm=function(){Q({title:"\u4eb2\uff0c\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55\u54e6\uff01",content:"\u53ea\u6709\u767b\u5f55\u7684\u7528\u6237\u624d\u53ef\u4ee5\u53d1\u5e16\u5462\uff0c\u662f\u5426\u8981\u53bb\u767b\u5f55\u5462\uff1f",cancelText:"\u518d\u901b\u901b",okText:"\u53bb\u767b\u5f55",okButtonProps:{href:"http://localhost:3000/login"},onOk:function(){return l.a.createElement($.a,{to:"/login"})}})},a.handleBoardTab=function(e){window.scrollTo(0,0),a.setState({tabKey:e})},a.createTopic=function(){E.a.get("http://0.0.0.0:2000/api/user").then(function(e){"fail"===e.data?a.showConfirm():a.setState({drawerVisible:!0})}).catch(function(e){console.log(e)})},a.state={topics:[],boardAll:[],essence:[],boardEssence:[],talk:[],boardTalk:[],tech:[],boardTech:[],bug:[],boardBug:[],tabKey:"1",drawerVisible:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){A("Home")}},{key:"componentDidMount",value:function(){var e=this;E.a.get("http://0.0.0.0:2000/api/topic").then(function(t){for(var a=e.state.essence,n=e.state.talk,l=e.state.tech,r=e.state.bug,c=0;c<t.data.length;c++){var o=t.data[c];"\u704c\u6c34\u4ea4\u6d41"===o.board?n.push(o):"\u6280\u672f\u8ba8\u8bba"===o.board?l.push(o):"\u5efa\u8bae&\u53cd\u9988"===o.board&&r.push(o),!0===o.essence&&a.push(o)}e.setState({topics:t.data,essence:a,talk:n,tech:l,bug:r,boardAll:t.data.slice(0,15),boardEssence:e.state.essence.slice(0,15),boardTalk:e.state.talk.slice(0,15),boardTech:e.state.tech.slice(0,15),boardBug:e.state.bug.slice(0,15)})})}},{key:"render",value:function(){var e=this,t=l.a.createElement(d.a,{onClick:this.createTopic,type:"primary",size:"large"},"\u53d1\u8868\u65b0\u5e16"),a=O.a.TabPane,n=null;return n=this.state.topics.length<1?l.a.createElement(T.a,{size:"large"}):null,l.a.createElement("div",{className:"content homePage"},l.a.createElement(O.a,{animated:{inkBar:!0,tabPane:!1},activeKey:this.state.tabKey,onTabClick:function(t){return e.handleBoardTab(t)},tabBarExtraContent:t,size:"large"},l.a.createElement(a,{tab:"\u5168\u90e8",key:"1"},n,l.a.createElement("div",null,this.state.boardAll.map(function(t,a){var n="1";return"\u704c\u6c34\u4ea4\u6d41"===t.board?n="3":"\u6280\u672f\u8ba8\u8bba"===t.board?n="4":"\u5efa\u8bae&\u53cd\u9988"===t.board&&(n="5"),l.a.createElement(Z,{tab:n,Home:e,key:a,detail:t})})),l.a.createElement(x.a,{defaultPageSize:15,hideOnSinglePage:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.topics.length,onChange:this.onChangeAll})),l.a.createElement(a,{tab:"\u7cbe\u534e",key:"2"},n,l.a.createElement("div",null,this.state.boardEssence.map(function(t,a){return l.a.createElement(Z,{tab:"2",Home:e,key:a,detail:t})})),l.a.createElement(x.a,{defaultPageSize:15,hideOnSinglePage:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.essence.length,onChange:this.onChangeEssence})),l.a.createElement(a,{tab:"\u704c\u6c34\u4ea4\u6d41",key:"3"},n,l.a.createElement("div",null,this.state.boardTalk.map(function(t,a){return l.a.createElement(Z,{tab:"3",Home:e,key:a,detail:t})})),l.a.createElement(x.a,{defaultPageSize:15,hideOnSinglePage:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.talk.length,onChange:this.onChangeTalk})),l.a.createElement(a,{tab:"\u6280\u672f\u8ba8\u8bba",key:"4"},n,l.a.createElement("div",null,this.state.boardTech.map(function(t,a){return l.a.createElement(Z,{tab:"4",Home:e,key:a,detail:t})})),l.a.createElement(x.a,{defaultPageSize:15,hideOnSinglePage:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.tech.length,onChange:this.onChangeTech})),l.a.createElement(a,{tab:"\u5efa\u8bae&\u53cd\u9988",key:"5"},n,l.a.createElement("div",null,this.state.boardBug.map(function(t,a){return l.a.createElement(Z,{tab:"5",Home:e,key:a,detail:t})})),l.a.createElement(x.a,{defaultPageSize:15,hideOnSinglePage:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.bug.length,onChange:this.onChangeBug}))),l.a.createElement(F,{Home:this}))}}]),t}(l.a.Component),W=(a(136),a(46)),K=a(44),U=(a(309),a(89)),G=a.n(U),X=a(59);E.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).registerCheck=function(e){e.preventDefault();var t=document.querySelector("input[name='new_username']"),n=document.querySelector("input[name='new_password']"),l=document.querySelector("input[name='confirm_pwd']"),r=document.querySelector("input[name='new_email']"),c=document.querySelector("input[name='answer']"),o=function(e){B(e),t.value="",n.value="",l.value="",r.value="",c.value="",a.setState({userState:{background:"rgb(255, 238, 240)"},pwdState:{background:"rgb(255, 238, 240)"},confirmState:{background:"rgb(255, 238, 240)"},emailState:{background:"rgb(255, 238, 240)"},answerState:{background:"rgb(255, 238, 240)"}}),q.bind(Object(K.a)(Object(K.a)(a)))()};if(/^[A-Za-z0-9]{6,12}$/.test(t.value))if(/^[A-Za-z0-9]{6,15}$/.test(n.value))if(l.value===n.value)if(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(r.value))if(/^[-]?[0-9]+$/.test(c.value)){var s={new_username:t.value,new_password:n.value,confirm_pwd:l.value,new_email:r.value,answer:c.value,cid:a.state.problem.cid};E.a.post("http://0.0.0.0:2000/register",G.a.stringify(s)).then(function(e){"True"===e.data?(N("\u6ce8\u518c\u6210\u529f\uff01\u51c6\u5907\u8df3\u8f6c\u3002"),a.props.history.push("/login")):o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01")}).catch(function(e){console.log(e)})}else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01")},a.change=function(e){var t=e.name,n=e.value;switch(t){case"new_username":/^[A-Za-z0-9]{6,12}$/.test(n)?E.a.get("http://0.0.0.0:2000/api/username/".concat(n)).then(function(e){"username exist"===e.data?(B("\u7528\u6237\u540d\u4e0d\u5408\u6cd5\u6216\u5df2\u5b58\u5728\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a.setState({userState:{background:"rgb(255, 238, 240)"}})):a.setState({userState:{background:"rgb(230, 255, 237)"}})}).catch(function(e){console.log(e)}):a.setState({userState:{background:"rgb(255, 238, 240)"}});break;case"new_password":/^[A-Za-z0-9]{6,15}$/.test(n)?a.setState({pwdState:{background:"rgb(230, 255, 237)"}}):a.setState({pwdState:{background:"rgb(255, 238, 240)"}});break;case"confirm_pwd":n!==document.querySelector("input[name='new_password']").value?a.setState({confirmState:{background:"rgb(255, 238, 240)"}}):a.setState({confirmState:{background:"rgb(230, 255, 237)"}});break;case"answer":/^[-]?[0-9]+$/.test(n)?E.a.get("http://0.0.0.0:2000/api/codeword/solution?cid=".concat(a.state.problem.cid,"&answer=").concat(n)).then(function(e){"False"===e.data?a.setState({answerState:{background:"rgb(255, 238, 240)"}}):a.setState({answerState:{background:"rgb(230, 255, 237)"}})}).catch(function(e){console.log(e)}):a.setState({answerState:{background:"rgb(255, 238, 240)"}});break;default:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(n)?E.a.get("http://0.0.0.0:2000/api/email/".concat(n)).then(function(e){"email exist"===e.data?(B("\u90ae\u7bb1\u4e0d\u5408\u6cd5\u6216\u5df2\u88ab\u6ce8\u518c\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a.setState({emailState:{background:"rgb(255, 238, 240)"}})):a.setState({emailState:{background:"rgb(230, 255, 237)"}})}).catch(function(e){console.log(e)}):a.setState({emailState:{background:"rgb(255, 238, 240)"}})}},a.state={userState:null,pwdState:null,confirmState:null,emailState:null,answerState:null,problem:{problem:"",cid:-1},degree:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){A("\u6ce8\u518c\u65b0\u7528\u6237"),q.bind(this)()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content registerPage"},l.a.createElement(W.a,null,l.a.createElement(W.a.Item,null,l.a.createElement(h.a,{to:"/"},"Home")),l.a.createElement(W.a.Item,null,"\u6ce8\u518c")),l.a.createElement("form",{className:"registerBox",action:"/register",method:"post"},l.a.createElement("label",null,l.a.createElement(R.a,{type:"user",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u7528\u6237\u540d:"),l.a.createElement(p.a,{required:!0,size:"large",name:"new_username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:this.state.userState,onChange:_(this.change,300).bind(this)}),l.a.createElement("br",null),l.a.createElement("span",null,"\u7528\u6237\u540d\u7531\u6570\u5b57\u6216\u5b57\u6bcd\u7ec4\u6210\uff0c\u957f\u5ea66~12\u4f4d\u3002")),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(R.a,{type:"unlock",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u5bc6\u7801:"),l.a.createElement(p.a,{required:!0,size:"large",type:"password",name:"new_password",style:this.state.pwdState,onChange:_(this.change,300).bind(this),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),l.a.createElement("br",null),l.a.createElement("span",null,"\u5bc6\u7801\u7531\u6570\u5b57\u6216\u5b57\u6bcd\u7ec4\u6210\uff0c\u957f\u5ea66~15\u4f4d\u3002")),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(R.a,{type:"lock",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u518d\u6b21\u786e\u8ba4:"),l.a.createElement(p.a,{required:!0,size:"large",type:"password",name:"confirm_pwd",style:this.state.confirmState,onChange:_(this.change,300).bind(this),placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}),l.a.createElement("br",null),l.a.createElement("span",null,"\u8bf7\u518d\u6b21\u786e\u8ba4\u60a8\u8f93\u5165\u7684\u5bc6\u7801\u3002")),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(R.a,{type:"mail",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u90ae\u7bb1:"),l.a.createElement(p.a,{required:!0,size:"large",name:"new_email",onChange:_(this.change,300).bind(this),style:this.state.emailState,placeholder:"\u8bf7\u8f93\u5165\u7535\u5b50\u90ae\u7bb1"}),l.a.createElement("br",null),l.a.createElement("span",null,"\u8bf7\u8f93\u5165\u60a8\u7684\u7535\u5b50\u90ae\u7bb1\uff0c\u6211\u4eec\u5c06\u4fdd\u8bc1\u7edd\u4e0d\u516c\u5f00\uff01")),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(R.a,{type:"calculator",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u9a8c\u8bc1\u7801:"),l.a.createElement(p.a,{name:"problem",disabled:!0,placeholder:this.state.problem.problem.concat(" = ?")}),l.a.createElement(X.Motion,{defaultStyle:{degree:0},style:{degree:Object(X.spring)(this.state.degree)}},function(t){var a=t.degree;return l.a.createElement(H.a,{placement:"bottom",title:"\u70b9\u51fb\u6362\u4e00\u9898"},l.a.createElement(R.a,{onClick:P.bind(e),style:{fontSize:"20px",cursor:"pointer",transform:"rotate(".concat(a,"deg")},type:"reload"}))}),l.a.createElement("span",{style:{fontSize:"20px",marginLeft:"15px"}},"\u7b54\u6848:"),l.a.createElement(p.a,{required:!0,size:"large",name:"answer",onChange:_(this.change,300).bind(this),style:this.state.answerState,placeholder:"\u7b54\u6848"})),l.a.createElement("br",null),l.a.createElement(d.a,{onClick:this.registerCheck,block:!0,htmlType:"submit",type:"primary"},"\u6ce8\u518c"),l.a.createElement("br",null)))}}]),t}(l.a.Component);a(319);E.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",E.a.defaults.withCredentials=!0;var ee=[{path:"/",component:V,exact:!0},{path:"/login",component:function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).loginCheck=function(e){e.preventDefault();var t=document.querySelector("input[name='username']"),n=document.querySelector("input[name='password']"),l=document.querySelector("input[name='answer']"),r=function(e){B(e),t.value="",n.value="",l.value="",a.setState({userState:{background:"rgb(255, 238, 240)"},pwdState:{background:"rgb(255, 238, 240)"},answerState:{background:"rgb(255, 238, 240)"}}),q.bind(Object(K.a)(Object(K.a)(a)))()};if(/^[A-Za-z0-9]{6,12}$/.test(t.value))if(/^[A-Za-z0-9]{6,15}$/.test(n.value))if(/^[-]?[0-9]+$/.test(l.value)){var c={username:t.value,password:n.value,answer:l.value,cid:a.state.problem.cid};E.a.post("http://0.0.0.0:2000/login",G.a.stringify(c)).then(function(e){"False"===e.data?r("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01"):(N("\u767b\u5f55\u6210\u529f\uff0c\u6b22\u8fce\u56de\u6765\uff0c\u5373\u5c06\u8df3\u8f6c\u3002:)"),setTimeout(function(){return a.setState({loginSuccess:"success"})},1200))}).catch(function(e){console.log(e)})}else r("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01");else r("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01");else r("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01")},a.state={warn:!1,userState:null,pwdState:null,answerState:null,problem:{problem:"",cid:-1},degree:0,loginSuccess:"fail"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){q.bind(this)(),A("\u6b63\u5728\u767b\u5f55")}},{key:"render",value:function(){var e=this;return"success"===this.state.loginSuccess?(document.location.reload(),l.a.createElement($.a,{to:{pathname:"/",state:{loginStatus:this.state.loginSuccess}}})):l.a.createElement("div",{className:"content loginPage"},l.a.createElement(W.a,null,l.a.createElement(W.a.Item,null,l.a.createElement(h.a,{to:"/"},"Home")),l.a.createElement(W.a.Item,null,"\u767b\u5f55")),l.a.createElement("form",{className:"loginBox"},l.a.createElement("label",null,l.a.createElement(R.a,{type:"user",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u7528\u6237\u540d:"),l.a.createElement(p.a,{required:!0,size:"large",style:this.state.userState,name:"username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(R.a,{type:"lock",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u5bc6\u7801:"),l.a.createElement(p.a,{required:!0,size:"large",style:this.state.pwdState,type:"password",name:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(R.a,{type:"calculator",style:{fontSize:"20px"}})," ",l.a.createElement("span",{style:{fontSize:"20px"}},"\u9a8c\u8bc1\u7801:"),l.a.createElement(p.a,{name:"problem",disabled:!0,placeholder:this.state.problem.problem.concat(" = ?")}),l.a.createElement(X.Motion,{defaultStyle:{degree:0},style:{degree:Object(X.spring)(this.state.degree)}},function(t){var a=t.degree;return l.a.createElement(H.a,{placement:"bottom",title:"\u70b9\u51fb\u6362\u4e00\u9898"},l.a.createElement(R.a,{onClick:P.bind(e),style:{fontSize:"20px",cursor:"pointer",transform:"rotate(".concat(a,"deg")},type:"reload"}))}),l.a.createElement("span",{style:{fontSize:"20px",marginLeft:"15px"}},"\u7b54\u6848:"),l.a.createElement(p.a,{required:!0,size:"large",name:"answer",style:this.state.answerState,placeholder:"\u7b54\u6848"})),l.a.createElement("br",null),l.a.createElement(d.a,{onClick:this.loginCheck,block:!0,htmlType:"submit",type:"primary"},"\u767b\u5f55"),l.a.createElement("br",null),l.a.createElement("span",{style:{paddingRight:"32%"}},"\u6ca1\u6709\u8d26\u53f7\uff1f",l.a.createElement(h.a,{to:"/register"},"\u524d\u5f80\u6ce8\u518c\uff01"))))}}]),t}(l.a.Component)},{path:"/register",component:Y}],te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLogin=function(){console.log("ready to login"),a.setState({loginStatus:"success"}),console.log("login success",a.state.loginStatus)},a.state={loginStatus:"fail"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(y.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(S,null),l.a.createElement(w.a,null,ee.map(function(t,a){return!0===t.exact?l.a.createElement(k.a,{key:a,exact:!0,path:t.path,render:function(a){return l.a.createElement(t.component,Object.assign({},a,{handleLogin:e.handleLogin,routes:t.routes}))}}):l.a.createElement(k.a,{key:a,path:t.path,render:function(a){return l.a.createElement(t.component,Object.assign({},a,{handleLogin:e.handleLogin,routes:t.routes}))}})})),l.a.createElement(C,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[151,2,1]]]);
//# sourceMappingURL=main.8759868a.chunk.js.map