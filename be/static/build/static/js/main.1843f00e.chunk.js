(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(236)},121:function(e,t,a){},123:function(e,t,a){},130:function(e,t,a){},183:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},184:function(e,t,a){},213:function(e,t,a){},233:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=(a(121),a(17)),s=a(18),i=a(21),u=a(19),m=a(20),p=(a(123),a(50),a(22)),d=(a(64),a(14)),b=(a(130),a(237)),h=d.a.Search,g=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).search=function(e){window.open("https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=1&rsv_idx=1&ch=&tn=baidu&bar=&wd="+e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement(b.a,{to:"/"},r.a.createElement("img",{src:a(183),alt:"logo"})),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(h,{placeholder:"\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053",onSearch:function(t){return e.search(t)},enterButton:!0}),r.a.createElement(b.a,{to:"/register"},r.a.createElement(p.a,{type:"primary"},"\u6ce8\u518c")),r.a.createElement(b.a,{to:"/login"},r.a.createElement(p.a,null,"\u767b\u5f55"))))}}]),t}(r.a.Component),f=a(239),E=a(240),y=a(241),S=(a(184),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footerColor"},r.a.createElement("div",{className:"color-1"}),r.a.createElement("div",{className:"color-2"}),r.a.createElement("div",{className:"color-3"}),r.a.createElement("div",{className:"color-4"}),r.a.createElement("div",{className:"color-5"})),r.a.createElement("div",{className:"copyright"},r.a.createElement("span",null,"Idea comes from ",r.a.createElement("a",{href:"https://community.nodebb.org/"},"NodeBB")," and ",r.a.createElement("a",{href:"https://community.nodebb-cn.org/"},"NodeBB.CN"),"."),r.a.createElement("span",{style:{marginRight:"10px",marginLeft:"10px"}},"Powered by ",r.a.createElement("a",{href:"https://www.vultr.com/"},"Vultr"),"."),r.a.createElement("span",null," Copyright \xa9 2018 ",r.a.createElement("a",{href:"http://cwuc.cc"},"CWUC.CC"),". All rights reserved.")))}}]),t}(r.a.Component)),w=(a(186),a(48)),v=a(15),k=a.n(v),z=function(e){w.a.config({top:"6%",duration:3}),w.a.success(e)},j=function(e){w.a.config({top:"6%",duration:3}),w.a.error(e)},O=function(e){document.title="".concat(e," | CCLUB")},x=function(e,t){var a;return function(n){clearTimeout(a),a=setTimeout(e.bind(this,n.target),t)}};function C(){var e=this;k.a.get("http://0.0.0.0:2000/api/codeword").then(function(t){var a=t.data;e.setState({problem:a})}).catch(function(e){console.log(e)})}function _(){this.setState(function(e){return{degree:0===e.degree?360:e.degree+360}}),C.bind(this)()}var q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){O("Home")}},{key:"render",value:function(){return r.a.createElement("div",{className:"content homePage"},"home")}}]),t}(r.a.Component),A=(a(103),a(62)),N=(a(104),a(10)),Z=(a(105),a(32)),$=a(30),B=(a(213),a(59)),T=a.n(B),I=a(43);k.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).registerCheck=function(e){e.preventDefault();var t=document.querySelector("input[name='new_username']"),n=document.querySelector("input[name='new_password']"),r=document.querySelector("input[name='confirm_pwd']"),l=document.querySelector("input[name='new_email']"),c=document.querySelector("input[name='answer']"),o=function(e){j(e),t.value="",n.value="",r.value="",l.value="",c.value="",a.setState({userState:{background:"rgb(255, 238, 240)"},pwdState:{background:"rgb(255, 238, 240)"},confirmState:{background:"rgb(255, 238, 240)"},emailState:{background:"rgb(255, 238, 240)"},answerState:{background:"rgb(255, 238, 240)"}}),C.bind(Object($.a)(Object($.a)(a)))()};if(/^[A-Za-z0-9]{6,12}$/.test(t.value))if(/^[A-Za-z0-9]{6,15}$/.test(n.value))if(r.value===n.value)if(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(l.value))if(/^[-]?[0-9]+$/.test(c.value)){var s={new_username:t.value,new_password:n.value,confirm_pwd:r.value,new_email:l.value,answer:c.value,cid:a.state.problem.cid};k.a.post("http://0.0.0.0:2000/register",T.a.stringify(s)).then(function(e){"True"===e.data?(z("\u6ce8\u518c\u6210\u529f\uff01\u51c6\u5907\u8df3\u8f6c\u3002"),a.props.history.push("/login")):o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01")}).catch(function(e){console.log(e)})}else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01");else o("\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01")},a.change=function(e){var t=e.name,n=e.value;switch(t){case"new_username":/^[A-Za-z0-9]{6,12}$/.test(n)?k.a.get("http://0.0.0.0:2000/api/username/".concat(n)).then(function(e){"username exist"===e.data?(j("\u7528\u6237\u540d\u4e0d\u5408\u6cd5\u6216\u5df2\u5b58\u5728\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a.setState({userState:{background:"rgb(255, 238, 240)"}})):a.setState({userState:{background:"rgb(230, 255, 237)"}})}).catch(function(e){console.log(e)}):a.setState({userState:{background:"rgb(255, 238, 240)"}});break;case"new_password":/^[A-Za-z0-9]{6,15}$/.test(n)?a.setState({pwdState:{background:"rgb(230, 255, 237)"}}):a.setState({pwdState:{background:"rgb(255, 238, 240)"}});break;case"confirm_pwd":n!==document.querySelector("input[name='new_password']").value?a.setState({confirmState:{background:"rgb(255, 238, 240)"}}):a.setState({confirmState:{background:"rgb(230, 255, 237)"}});break;case"answer":/^[-]?[0-9]+$/.test(n)?k.a.get("http://0.0.0.0:2000/api/codeword/solution?cid=".concat(a.state.problem.cid,"&answer=").concat(n)).then(function(e){"False"===e.data?a.setState({answerState:{background:"rgb(255, 238, 240)"}}):a.setState({answerState:{background:"rgb(230, 255, 237)"}})}).catch(function(e){console.log(e)}):a.setState({answerState:{background:"rgb(255, 238, 240)"}});break;default:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(n)?k.a.get("http://0.0.0.0:2000/api/email/".concat(n)).then(function(e){"email exist"===e.data?(j("\u90ae\u7bb1\u4e0d\u5408\u6cd5\u6216\u5df2\u88ab\u6ce8\u518c\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a.setState({emailState:{background:"rgb(255, 238, 240)"}})):a.setState({emailState:{background:"rgb(230, 255, 237)"}})}).catch(function(e){console.log(e)}):a.setState({emailState:{background:"rgb(255, 238, 240)"}})}},a.state={userState:null,pwdState:null,confirmState:null,emailState:null,answerState:null,problem:{problem:"",cid:-1},degree:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){O("\u6ce8\u518c\u65b0\u7528\u6237"),C.bind(this)()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content registerPage"},r.a.createElement(Z.a,null,r.a.createElement(Z.a.Item,null,r.a.createElement(b.a,{to:"/"},"Home")),r.a.createElement(Z.a.Item,null,"\u6ce8\u518c")),r.a.createElement("form",{className:"registerBox",action:"/register",method:"post"},r.a.createElement("label",null,r.a.createElement(N.a,{type:"user",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u7528\u6237\u540d:"),r.a.createElement(d.a,{required:!0,size:"large",name:"new_username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:this.state.userState,onChange:x(this.change,300).bind(this)}),r.a.createElement("br",null),r.a.createElement("span",null,"\u7528\u6237\u540d\u7531\u6570\u5b57\u6216\u5b57\u6bcd\u7ec4\u6210\uff0c\u957f\u5ea66~12\u4f4d\u3002")),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement(N.a,{type:"unlock",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u5bc6\u7801:"),r.a.createElement(d.a,{required:!0,size:"large",type:"password",name:"new_password",style:this.state.pwdState,onChange:x(this.change,300).bind(this),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),r.a.createElement("br",null),r.a.createElement("span",null,"\u5bc6\u7801\u7531\u6570\u5b57\u6216\u5b57\u6bcd\u7ec4\u6210\uff0c\u957f\u5ea66~15\u4f4d\u3002")),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement(N.a,{type:"lock",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u518d\u6b21\u786e\u8ba4:"),r.a.createElement(d.a,{required:!0,size:"large",type:"password",name:"confirm_pwd",style:this.state.confirmState,onChange:x(this.change,300).bind(this),placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}),r.a.createElement("br",null),r.a.createElement("span",null,"\u8bf7\u518d\u6b21\u786e\u8ba4\u60a8\u8f93\u5165\u7684\u5bc6\u7801\u3002")),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement(N.a,{type:"mail",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u90ae\u7bb1:"),r.a.createElement(d.a,{required:!0,size:"large",name:"new_email",onChange:x(this.change,300).bind(this),style:this.state.emailState,placeholder:"\u8bf7\u8f93\u5165\u7535\u5b50\u90ae\u7bb1"}),r.a.createElement("br",null),r.a.createElement("span",null,"\u8bf7\u8f93\u5165\u60a8\u7684\u7535\u5b50\u90ae\u7bb1\uff0c\u6211\u4eec\u5c06\u4fdd\u8bc1\u7edd\u4e0d\u516c\u5f00\uff01")),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement(N.a,{type:"calculator",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u9a8c\u8bc1\u7801:"),r.a.createElement(d.a,{name:"problem",disabled:!0,placeholder:this.state.problem.problem.concat(" = ?")}),r.a.createElement(I.Motion,{defaultStyle:{degree:0},style:{degree:Object(I.spring)(this.state.degree)}},function(t){var a=t.degree;return r.a.createElement(A.a,{placement:"bottom",title:"\u70b9\u51fb\u6362\u4e00\u9898"},r.a.createElement(N.a,{onClick:_.bind(e),style:{fontSize:"20px",cursor:"pointer",transform:"rotate(".concat(a,"deg")},type:"reload"}))}),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"15px"}},"\u7b54\u6848:"),r.a.createElement(d.a,{required:!0,size:"large",name:"answer",onChange:x(this.change,300).bind(this),style:this.state.answerState,placeholder:"\u7b54\u6848"})),r.a.createElement("br",null),r.a.createElement(p.a,{onClick:this.registerCheck,block:!0,htmlType:"submit",type:"primary"},"\u6ce8\u518c"),r.a.createElement("br",null)))}}]),t}(r.a.Component),D=a(238);a(233);k.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",k.a.defaults.withCredentials=!0;var L=[{path:"/",component:q,exact:!0},{path:"/login",component:function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).loginCheck=function(e){e.preventDefault();var t=document.querySelector("input[name='username']"),n=document.querySelector("input[name='password']"),r=document.querySelector("input[name='answer']"),l=function(e){j(e),t.value="",n.value="",r.value="",a.setState({userState:{background:"rgb(255, 238, 240)"},pwdState:{background:"rgb(255, 238, 240)"},answerState:{background:"rgb(255, 238, 240)"}}),C.bind(Object($.a)(Object($.a)(a)))()};if(/^[A-Za-z0-9]{6,12}$/.test(t.value))if(/^[A-Za-z0-9]{6,15}$/.test(n.value))if(/^[-]?[0-9]+$/.test(r.value)){var c={username:t.value,password:n.value,answer:r.value,cid:a.state.problem.cid};k.a.post("http://0.0.0.0:2000/login",T.a.stringify(c)).then(function(e){"False"===e.data?(l("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01"),z("\u767b\u5f55\u6210\u529f\uff0c\u6b22\u8fce\u56de\u6765 :)"),a.setState({loginSuccess:!0})):(z("\u767b\u5f55\u6210\u529f\uff0c\u6b22\u8fce\u56de\u6765 :)"),console.log(e),k.a.get("http://0.0.0.0:2000/login").then(function(e){console.log("\u53d1\u8d77\u65b0\u8bf7\u6c42\u7684\u54cd\u5e94\uff1a",e)}).catch(function(e){console.log(e)}))}).catch(function(e){console.log(e)})}else l("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01");else l("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01");else l("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u586b\u5199\u7684\u4fe1\u606f\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01")},a.state={warn:!1,userState:null,pwdState:null,answerState:null,problem:{problem:"",cid:-1},degree:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){C.bind(this)(),O("\u6b63\u5728\u767b\u5f55")}},{key:"render",value:function(){var e=this;return this.state.loginSuccess?r.a.createElement(D.a,{to:"/"}):r.a.createElement("div",{className:"content loginPage"},r.a.createElement(Z.a,null,r.a.createElement(Z.a.Item,null,r.a.createElement(b.a,{to:"/"},"Home")),r.a.createElement(Z.a.Item,null,"\u767b\u5f55")),r.a.createElement("form",{className:"loginBox"},r.a.createElement("label",null,r.a.createElement(N.a,{type:"user",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u7528\u6237\u540d:"),r.a.createElement(d.a,{required:!0,size:"large",style:this.state.userState,name:"username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement(N.a,{type:"lock",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u5bc6\u7801:"),r.a.createElement(d.a,{required:!0,size:"large",style:this.state.pwdState,type:"password",name:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement(N.a,{type:"calculator",style:{fontSize:"20px"}})," ",r.a.createElement("span",{style:{fontSize:"20px"}},"\u9a8c\u8bc1\u7801:"),r.a.createElement(d.a,{name:"problem",disabled:!0,placeholder:this.state.problem.problem.concat(" = ?")}),r.a.createElement(I.Motion,{defaultStyle:{degree:0},style:{degree:Object(I.spring)(this.state.degree)}},function(t){var a=t.degree;return r.a.createElement(A.a,{placement:"bottom",title:"\u70b9\u51fb\u6362\u4e00\u9898"},r.a.createElement(N.a,{onClick:_.bind(e),style:{fontSize:"20px",cursor:"pointer",transform:"rotate(".concat(a,"deg")},type:"reload"}))}),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"15px"}},"\u7b54\u6848:"),r.a.createElement(d.a,{required:!0,size:"large",name:"answer",style:this.state.answerState,placeholder:"\u7b54\u6848"})),r.a.createElement("br",null),r.a.createElement(p.a,{onClick:this.loginCheck,block:!0,htmlType:"submit",type:"primary"},"\u767b\u5f55"),r.a.createElement("br",null),r.a.createElement("span",{style:{paddingRight:"32%"}},"\u6ca1\u6709\u8d26\u53f7\uff1f",r.a.createElement(b.a,{to:"/register"},"\u524d\u5f80\u6ce8\u518c\uff01"))))}}]),t}(r.a.Component)},{path:"/register",component:M}],P=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(E.a,null,L.map(function(e,t){return!0===e.exact?r.a.createElement(y.a,{key:t,exact:!0,path:e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}}):r.a.createElement(y.a,{key:t,path:e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})})),r.a.createElement(S,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,2,1]]]);
//# sourceMappingURL=main.1843f00e.chunk.js.map